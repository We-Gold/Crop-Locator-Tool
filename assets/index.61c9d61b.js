import{I as e,p as t,g as n,d as i,a as r,b as a,v as o}from"./vendor.9c131f9f.js";let s=!0;const l=()=>{if(s)return c(),g(),void(s=!1);d(),h(),s=!0},c=()=>{document.querySelector("#guide-text-container").style.display="block"},d=()=>{document.querySelector("#guide-text-container").style.display="none"},h=()=>{document.querySelector("#toggle-guide-text").innerHTML="Show Usage Guide"},g=()=>{document.querySelector("#toggle-guide-text").innerHTML="Hide Usage Guide"},u={sourceImage:null,crop:null,mainCrop:null},p=e=>{let t={};return t=0==e.length||m(e)?{width:0,height:0}:y(e),t},m=e=>null==e[0].imageWidth||null==e[0].imageLength,y=e=>({width:e[0].imageWidth,height:e[0].imageLength}),f=e=>{document.querySelector("#progress-bar > div").style.width=`${Math.round(100*e)}%`},w=({layers:e,layerFinished:t})=>{f(t/e)},x=e=>{null!=e&&null!=e&&e.forEach((e=>(e=>{document.querySelector("#crop-info").innerHTML=`<span>${e}</span>`,f(1)})(e)))},v=(e,t)=>(e.imageWidth=e.width,e.imageLength=e.height,Array.from({length:t},(t=>e))),L=(t,n,i,r)=>new e(n,i,t,{kind:"GREY"}).rotate(-r,{interpolation:"bilinear"}),E=(e,t)=>{const{x:n,y:i}=b(e,t),r=e.width-i-n,a=e.height-n-i;return e=e.crop({x:n,y:i,width:r,height:a})},b=(e,t)=>{const n=Math.max(e.parent.width,e.parent.height),i=Math.abs(n*Math.sin(S(t))),r=i/(Math.abs(n*Math.cos(S(t)))+i)*n;return{x:Math.trunc(r*Math.cos(S(t))),y:Math.trunc(i-r*Math.sin(S(t)))}},S=e=>e*Math.PI/180,C=function(){let e=0;const t=[{strokeColor:"rgb(64, 196, 82)",highlightColor:"rgb(64, 196, 82, 0.3)"},{strokeColor:"rgb(255, 243, 33)",highlightColor:"rgb(255, 243, 33, 0.3)"},{strokeColor:"rgb(193, 63, 63)",highlightColor:"rgb(193, 63, 63, 0.3)"}];return{getNextColor:(n=!1)=>(e=n?(e+1)%t.length:0,t[e])}}(),X=(e,t,n,{isNested:i=!1}={})=>{const r=e.getContext("2d"),{highlightColor:a,strokeColor:o}=C.getNextColor(i);r.fillStyle=a,r.strokeStyle=o;const{x:s,y:l}=t,{w:c,h:d}=n;r.fillRect(s,l,c,d),r.strokeRect(s,l,c,d)},P=({imageData:e,width:n,height:i,canvasElement:r,imageRange:a=[0,255],colorScale:o="greys"})=>{const s=new t({canvas:r,data:e,width:n,height:i,domain:a,colorScale:o,useWebGL:!1});return s.render(),s},I=document.querySelector("#source-image-canvas"),M=({position:e,isNested:t=!1})=>{const n={width:u.crop.data[0].imageWidth,height:u.crop.data[0].imageLength},{position:i}=((e,t,n)=>({position:{x:e.x-Math.round((n.width-t.width)/2),y:e.y-Math.round((n.height-t.height)/2),z:e.z},width:n.width,height:n.height}))(e,n,u.crop.dimensions);u.crop.position=i,X(I,i,{w:u.crop.dimensions.width,h:u.crop.dimensions.height},{isNested:t})},R=()=>{const e=document.querySelector("#crop-canvas"),n=u.sourceImage.data[u.crop.position.z-1];(async({imageData:e,width:n,height:i,canvasElement:r,imageRange:a=[0,255],colorScale:o="greys",cropPosition:s,cropDimensions:l,angle:c=null})=>{const d=r.getContext("2d"),{x:h,y:g}=s,{width:u,height:p}=l,[m,y]=[n,i],f=new t({canvas:r,data:e,width:n,height:i,domain:a,colorScale:o,useWebGL:!1});f.render(),d.fillStyle="rgb(0,0,0)",d.save();const w=await createImageBitmap(d.getImageData(h,g,u,p));if(d.fillRect(0,0,m,y),d.translate(h+u/2,g+p/2),null!=c&&d.rotate(S(c)),d.drawImage(w,-u/2,-p/2),d.restore(),null!=c){d.save();const e=await createImageBitmap(d.getImageData(h,g,u,p));d.fillRect(0,0,m,y),d.translate(h+u/2,g+p/2),d.drawImage(e,-u/2,-p/2),d.restore()}})({imageData:n.data,width:n.imageWidth,height:n.imageLength,canvasElement:e,cropPosition:u.crop.position,cropDimensions:u.crop.dimensions,angle:u.crop.isRotated?u.crop.angle:null})},W=e=>{let t=10;const n=Math.min(e.data[0].imageWidth,e.data[0].imageLength);return n<=50&&(t=1),n<100&&(t=4),t},k=(e,t,n,i)=>{const{useEveryXPixel:r,useEveryXLayer:a}=i(),o=Math.abs(e.data[0].imageWidth-t.data[0].imageWidth),s=D(n.x-r,0,o),l=D(n.x+r,0,o)-s,c=Math.abs(e.data[0].imageLength-t.data[0].imageLength),d=D(n.y-r,0,c),h=D(n.y+r,0,c)-d,g=Math.abs(e.data.length-t.data.length),u=D(n.z-a,0,g);return{xScanStart:s,xAxisScans:l,yScanStart:d,yAxisScans:h,zScanStart:u,zAxisScans:D(n.z+a,0,g)-u}},D=(e,t,n)=>Math.min(Math.max(e,t),n),z=new n.exports.GPU({mode:"gpu"});function q(e,t,n){return e+n*t}z.addFunction(q);const $=(e,t,n)=>{const i=Math.trunc(Math.abs(e.data[0].imageWidth-t.data[0].imageWidth)/n),r=Math.trunc(Math.abs(e.data[0].imageLength-t.data[0].imageLength)/n);return z.createKernel((function(e,t){const n=this.thread.x*this.constants.useEveryXPixel+this.constants.originX,i=this.thread.y*this.constants.useEveryXPixel+this.constants.originY;let r=0;for(let a=0;a<this.constants.cropLayerWidth;a+=this.constants.useEveryXPixel){const o=n+a;for(let a=0;a<this.constants.cropLayerLength;a+=this.constants.useEveryXPixel){const s=i+a,l=q(o,s,this.constants.sourceImageLayerWidth),c=q(o-n,s-i,this.constants.cropLayerWidth),d=e[l],h=t[c];r+=Math.abs(d-h)}}return r})).setOutput([i,r]).setConstants({sourceImageLayerWidth:e.data[0].imageWidth,cropLayerWidth:t.data[0].imageWidth,cropLayerLength:t.data[0].imageLength,useEveryXPixel:n,originX:0,originY:0})},H=(e,t,n,i,r,a,o)=>{const{xAxisScans:s,yAxisScans:l}=k(e,t,n,i);return z.createKernel((function(e,t){const n=this.thread.x*this.constants.useEveryXPixel+this.constants.originX,i=this.thread.y*this.constants.useEveryXPixel+this.constants.originY;let r=0;for(let a=0;a<this.constants.cropLayerWidth;a+=this.constants.useEveryXPixel){const o=n+a;for(let a=0;a<this.constants.cropLayerLength;a+=this.constants.useEveryXPixel){const s=i+a,l=q(o,s,this.constants.sourceImageLayerWidth),c=q(o-n,s-i,this.constants.cropLayerWidth),d=e[l],h=t[c];r+=Math.abs(d-h)}}return r})).setOutput([s,l]).setConstants({sourceImageLayerWidth:e.data[0].imageWidth,cropLayerWidth:t.data[0].imageWidth,cropLayerLength:t.data[0].imageLength,useEveryXPixel:r,originX:a,originY:o})},N=({result:e,crop:t,convertPosition:n,threshold:i=.1})=>{const{useEveryXPixel:r,useEveryXLayer:a}=n(),o=(({threshold:e=.1,cropWidth:t,cropHeight:n,range:i=[0,255],useEveryXPixel:r})=>e*Math.abs(i[0]-i[1])*Math.trunc(t/r*n/r))({threshold:i,cropWidth:t.data[0].imageWidth,cropHeight:t.data[0].imageLength,useEveryXPixel:r,useEveryXLayer:a}),s=[];for(const[l,c]of Object.entries(e))for(const[e,t]of Object.entries(c))for(const[n,i]of Object.entries(t))if(i<o){const t=[l,e,n].map((e=>parseInt(e)));s.push({difference:i,index:t})}if(0==s.length)return null;return s.map((e=>{const t=e.index;return Object.assign(n({x:t[2],y:t[1],z:t[0]}),{difference:e.difference})}))},A=(e,t,{useEveryXPixel:n,useEveryXLayer:i,threshold:r})=>{const[a,o]=((e,t,{useEveryXLayer:n,useEveryXPixel:i})=>{const r=$(e,t,i),a=Math.abs(e.data.length-t.data.length);let o=[];for(let s=0;s<=a;s+=n){const n=e.data[s],i=t.data[0];o.push(r(n.data,i.data))}return r.destroy(),[o,(e=null)=>null==e?{useEveryXPixel:i,useEveryXLayer:n}:{x:e.x*i,y:e.y*i,z:e.z*n}]})(e,t,{useEveryXPixel:n,useEveryXLayer:i});return[N({result:a,crop:t,convertPosition:o,threshold:r}),o,a]},O=(e,t,n,i,{useEveryXPixel:r,useEveryXLayer:a,threshold:o})=>{const[s,l]=((e,t,n,i,{useEveryXLayer:r,useEveryXPixel:a})=>{const o=n.map(((r,o)=>{const{xScanStart:s,yScanStart:l}=k(e,t,n[o],i);return H(e,t,r,i,a,s,l)})).map(((a,o)=>{const{zScanStart:s,zAxisScans:l}=k(e,t,n[o],i);let c=[];for(let n=s;n<=s+l;n+=r){const i=e.data[n],r=t.data[0];c.push(a(i.data,r.data))}return a.destroy(),c})),{zScanStart:s,xScanStart:l,yScanStart:c}=k(e,t,n[0],i);return[o,(e=null)=>null==e?{useEveryXPixel:a,useEveryXLayer:r}:{x:e.x*a+l,y:e.y*a+c,z:e.z*r+s}]})(e,t,n,i,{useEveryXPixel:r,useEveryXLayer:a});return[s.map((e=>N({result:e,crop:t,convertPosition:l,threshold:o}))).reduce(((e,t)=>e.concat(t)),[]),l,s]},U=({pipeline:e,i:t})=>!(null==e[t-1][0]||0===e[t-1][0].length),B=({pipeline:e,i:t})=>e[t-1][0].some((e=>null!=e)),j=e=>e.reduce(((e,t)=>null==t?e:t.difference<e.difference?t:e),{difference:Number.MAX_VALUE}),T=(e,t,n,i=null)=>{const r=[];let a=null,o=0;const s=()=>{o++};return new Promise((l=>{const c=setInterval((()=>{o==n.length&&(clearInterval(c),null==r[r.length-1][0][0]&&(a=["No match found"]),l(null==a?{pipeline:r,bestPosition:j(r[r.length-1][0])}:{errors:a})),o==n.length||o>r.length||(0===o?(({sourceImage:e,crop:t,layerConfig:n,layersConfig:i,incrementIndex:r,pipeline:a,layerCompleteCallback:o=null,i:s})=>{const{useEveryXPixel:l,useEveryXLayer:c,threshold:d}=n,[h,g,u]=A(e,t,{useEveryXPixel:l,useEveryXLayer:c,threshold:d});a.push([h,g,u]),null!=o&&o({layers:i.length,layerFinished:s+1}),r()})({sourceImage:e,crop:t,layerConfig:n[o],layersConfig:n,layerCompleteCallback:i,incrementIndex:s,pipeline:r,i:o}):(a=(e=>{let t=null;return U(e)&&B(e)||(t=["No match found"]),t})({pipeline:r,i:o}),a?l({errors:a}):(({sourceImage:e,crop:t,layerConfig:n,layersConfig:i,incrementIndex:r,pipeline:a,layerCompleteCallback:o=null,i:s})=>{const{useEveryXPixel:l,useEveryXLayer:c,threshold:d}=n,h=[j(a[s-1][0])],[g,u,p]=O(e,t,h,a[s-1][1],{useEveryXPixel:l,useEveryXLayer:c,threshold:d});a.push([g,u,p]),null!=o&&o({layers:i.length,layerFinished:s+1}),r()})({sourceImage:e,crop:t,layerConfig:n[o],layersConfig:n,layerCompleteCallback:i,incrementIndex:s,pipeline:r,i:o})))}),0)}))},G=async(e,t,{isRotated:n=!1,pipelineLayerCompleteCallback:i=null}={})=>{const r=((e,t)=>{const n=W(e);return[{useEveryXPixel:n,useEveryXLayer:50,threshold:.1},{useEveryXPixel:n,useEveryXLayer:5,threshold:.12},{useEveryXPixel:1,useEveryXLayer:1,threshold:t?.03:.01}]})(t,n),{errors:a,pipeline:o,bestPosition:s}=await T(e,t,r,i);return{errors:a,pipeline:o,bestPosition:s}};function Y(e,t,n){return e+n*t}const F=(e,t,n)=>{const i=e[Y(0,0,t)],r=e[Y(t,0,t)],a=e[Y(0,n-1,t)],o=e[Y(t-1,n-1,t)];return 0==i&&0==r&&0==a&&0==o},K=(e,t,n)=>{let i=t;for(let a=t-1;a>=0&&0===e[Y(a-1,0,t)];a--)i=a;let r=0;for(let a=1;a<=n&&0===e[Y(t-1,a,t)];a++)r=a;return{leftMostBlackPixel:i,bottomMostBlackPixel:r}},V=(e,t,n,i)=>{const r=t-n,a=.5*r*i;let o=0;for(let s=n;s<t;s++)for(let n=0;n<i;n++)0===e[Y(s,n,t)]&&o++;return{cornerIsATriangle:o/a>=.45,width:r}},_=()=>{const{isRotated:e,angle:t}=(e=>{const{data:t,imageWidth:n,imageLength:i}=e.data[0];let r=!0,a=null;F(t,n,i)||(r=!1);const{leftMostBlackPixel:o,bottomMostBlackPixel:s}=K(t,n,i);o===n&&0===s&&(r=!1);const{cornerIsATriangle:l,width:c}=V(t,n,o,s);return l||(r=!1),r&&(a=180*Math.atan(s/c)/Math.PI),{isRotated:r,angle:a}})(u.crop);return e?J(t):Q(),{isRotated:e,angle:t}},J=e=>{const t=u.crop.data[0],n=((e,t,n,i,r=1)=>{const a=L(e,t,n,i),o=E(a,i);return v(o,r)})(t.data,t.imageWidth,t.imageLength,e,u.crop.data.length);Object.assign(u.crop,{data:n,angle:e,isRotated:!0})},Q=()=>{const t=((t,n,i,r,{width:a=150,height:o=150}={})=>{let s=new e(n,i,t,{kind:"GREY"});const l=Math.min(a,n),c=Math.min(o,i);return s=s.crop({x:0,y:0,width:l,height:c}),v(s,r)})(u.crop.data[0].data,u.crop.dimensions.width,u.crop.dimensions.height,u.crop.data.length,{width:150,height:150});Object.assign(u.crop,{data:t})},Z=({width:e,height:t,length:n})=>({width:e,height:n,length:t}),ee=({width:e,height:t,length:n})=>({width:t,height:n,length:e}),te=(e,t="left",n=0)=>{const i=((e,t)=>{let n={};const i={width:e.dimensions.width,height:e.dimensions.height,length:e.data.length};return"left"==t&&(n=ee(i)),"top"==t&&(n=Z(i)),n})(e,t),r=re(e,i,"top"==t?ne:ie,n),a=ae(r,i.width,i.height);return Object.assign(e,{data:v(a,i.length),dimensions:{width:a.width,height:a.height}})},ne=(e,t,n)=>e+t*n,ie=(e,t,n)=>t+e*n,re=(e,t,n,i=0)=>{const r=t.width,a=t.height,o=e.dimensions.width,s=[];for(let l=0;l<a;l++)for(let t=0;t<r;t++){const r=e.data[l].data[n(t,i,o)];s.push(r)}return new Uint8Array(s)},ae=(t,n,i)=>new e(n,i,t,{kind:"GREY"}).rotateRight().flipX(),oe=async e=>{u.crop.data=u.crop.original,u.crop.dimensions=u.crop.originalDimensions,se(e);const t=_();return{imageRotatedInfo:t,results:await G(u.sourceImage,u.crop,{isRotated:t.isRotated,isResliced:!0,pipelineLayerCompleteCallback:w}),reslicedDirection:e}},se=(e,t=0)=>{u.crop=te(u.crop,e,t)},le=async()=>{let e=!1;const{errors:t,bestPosition:n,isRotated:i,reslicedDirection:r}=await(async()=>{let e=null,t=_(),n=await G(u.sourceImage,u.crop,{isRotated:t.isRotated,pipelineLayerCompleteCallback:w});if(null!=n.errors&&n.errors.length>0){const i=await oe("top");t=i.imageRotatedInfo,n=i.results,e=i.reslicedDirection}if(null!=n.errors&&n.errors.length>0){const i=await oe("left");t=i.imageRotatedInfo,n=i.results,e=i.reslicedDirection}return{errors:n.errors,bestPosition:n.bestPosition,isRotated:t.isRotated,reslicedDirection:e}})();if(x(t),ce(t))(()=>{const e=u.sourceImage.data[0];P({imageData:e.data,width:e.imageWidth,height:e.imageLength,canvasElement:I})})();else{e=!0;const t=de(n);he(t),Object.assign(u.crop,{position:t,reslicedDirection:r}),null==u.mainCrop&&(u.mainCrop=u.crop);const a=((e,t)=>{if(e.layer!=t.layer)return!1;const n=t.x<e.x&&t.y<e.y,i=t.x+t.width>e.x+e.width,r=t.y+t.height>e.y+e.height;return n&&i&&r})({x:u.crop.position.x,y:u.crop.position.y,layer:u.crop.position.z,width:u.crop.dimensions.width,height:u.crop.dimensions.height},{x:u.mainCrop.position.x,y:u.mainCrop.position.y,layer:u.mainCrop.position.z,width:u.mainCrop.dimensions.width,height:u.mainCrop.dimensions.height});a?u.mainCrop=u.crop:(()=>{const e=u.sourceImage.data[u.crop.position.z-1];P({imageData:e.data,width:e.imageWidth,height:e.imageLength,canvasElement:I})})();const o={position:t,isNested:a};i?M(o):(({position:e,isNested:t=!1})=>{const{position:n}=((e,t)=>({position:{x:e.x,y:e.y,z:e.z},width:t.width,height:t.height}))(e,u.crop.dimensions);u.crop.position=n,X(I,n,{w:u.crop.dimensions.width,h:u.crop.dimensions.height},{isNested:t})})(o)}return e},ce=e=>null!=e&&e.length>0,de=e=>Object.assign({},e),he=e=>e.z++,ge=async({imagePath:e=null,arrayBuffer:t=null})=>{if(null==e&&null==t)return{errors:["No image provided"]};if(null!=e){const n=(e=>{const t=[];return null!=e&&null!=e||t.push("No image path provided"),t})(e);if(0!=n.length)return{errors:n};t=await(async e=>{const t=await r.get(e,{responseType:"arraybuffer"});return a.Buffer.from(t.data,"utf-8")})(e)}let n;try{n=i(t)}catch(o){return{errors:["An image provided is not a tiff. Currently this tool only accepts tiffs."]}}return{data:n}},ue=({errorHandler:e=x,callback:t})=>async n=>{const i=n.target.files[0],r=await i.arrayBuffer(),{data:a,errors:o}=await ge({arrayBuffer:r});if(e(o),null==a)return;const s=(({data:e=[],dimensions:t=null,original:n=null,originalDimensions:i=null,angle:r=null,isRotated:a=null,reslicedDirection:o=null,position:s=null})=>({data:e,dimensions:t=null!=t?t:p(e),original:n=null!=n?n:e,originalDimensions:i=null!=i?i:t,angle:r,isRotated:a,reslicedDirection:o,position:s}))({data:a});t(s)},pe=()=>{const{x:e,y:t,z:n}=u.crop.position,{width:i,height:r}=u.crop.dimensions,a=u.crop.data.length,{isRotated:o,angle:s,reslicedDirection:l}=u.crop;return{x:`${e}-${e+i}`,y:`${t}-${t+r}`,z:`${n}-${n+a}`,angle:null!=o?`${Math.round(s)}`:"",resliced:null!=l?`${me(l)}`:""}},me=e=>e[0].toUpperCase()+e.slice(1),ye=()=>{const e=ue({callback:fe("sourceImage")}),n=ue({callback:fe("crop")});return{replaceCropUploadHandler:ue({callback:e=>{const n=null==u.crop||null==u.crop.position,i=u.crop.dimensions.width!=e.dimensions.width||u.crop.dimensions.height!=e.dimensions.height;if(n)return;if(i)return void(document.querySelector("#warning-text").style.display="block");document.querySelector("#warning-text").style.display="none";const r=document.querySelector("#replaced-crop-canvas"),a=u.sourceImage.data[u.crop.position.z-1];(async({imageData:e,width:n,height:i,canvasElement:r,imageRange:a=[0,255],colorScale:o="greys",cropPosition:s,cropDimensions:l,angle:c=null,newCrop:d})=>{const h=r.getContext("2d"),{x:g,y:u}=s,{width:p,height:m}=l,y=new t({canvas:r,data:e,width:n,height:i,domain:a,colorScale:o,useWebGL:!1});y.render();const f=document.createElement("canvas");new t({canvas:f,data:d.data[0].data,width:d.dimensions.width,height:d.dimensions.height,domain:a,colorScale:o,useWebGL:!1}).render();const w=f.getContext("2d"),x=await createImageBitmap(w.getImageData(0,0,d.dimensions.width,d.dimensions.height));if(h.save(),h.translate(g+p/2,u+m/2),null!=c&&h.rotate(S(c)),h.drawImage(x,-p/2,-m/2),h.restore(),null!=c){h.save();const e=await createImageBitmap(h.getImageData(g,u,p,m));h.translate(g+p/2,u+m/2),h.drawImage(e,-p/2,-m/2),h.restore()}document.querySelector("#replaced-crop-canvas").style.visibility="visible"})({imageData:a.data,width:a.imageWidth,height:a.imageLength,canvasElement:r,cropPosition:u.crop.position,cropDimensions:u.crop.dimensions,angle:u.crop.isRotated?u.crop.angle:null,newCrop:e})}}),sourceImageUploadHandler:e,cropImageUploadHandler:n}},fe=e=>async t=>{if(u[e]=t,null==u.sourceImage||null==u.crop||!(()=>{const e=((e,t)=>{const n=[];return null!=e&&null!=e||n.push("The source image provided is not defined"),null!=t&&null!=t||n.push("The cropped image provided is not defined"),(e.data.length<t.data.length||e.dimensions.width<t.dimensions.width||e.dimensions.height<t.dimensions.height)&&n.push("The source image provided is smaller than the cropped image"),e.data.length==t.data.length&&e.dimensions.width==t.dimensions.width&&e.dimensions.height==t.dimensions.height&&n.push("The crop provided is the same size as the source image"),n})(u.sourceImage,u.crop);return x(e),0==e.length})())return;document.querySelector("#replaced-crop-canvas").style.visibility="hidden",document.querySelector("#info-area").style.visibility="visible",document.querySelector("#warning-text").style.display="none",f(0);await le()&&((()=>{const e=pe(),t=`Crop Position: <br> x - ${e.x}, y - ${e.y}, z - ${e.z} ${null!=u.crop.isRotated?`<br> Rotated - ${e.angle}°`:""} ${null!=u.crop.reslicedDirection?`<br> Resliced from: ${e.resliced}`:""}`;document.querySelector("#crop-info").innerHTML=t})(),R())};!function(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:i}=e;let r;"serviceWorker"in navigator&&(r=new o("./sw.js",{scope:"./"}),r.addEventListener("activated",(e=>{e.isUpdate?window.location.reload():null==i||i()})),r.register({immediate:t}).then((e=>e)))}({onOfflineReady(){console.log("Working in offline mode.")}}),(()=>{const{replaceCropUploadHandler:e,sourceImageUploadHandler:t,cropImageUploadHandler:n}=ye();window.addEventListener("load",(function(){document.querySelector("#source-image-input").addEventListener("change",t),document.querySelector("#crop-image-input").addEventListener("change",n),document.querySelector("#new-crop-input").addEventListener("change",e),document.querySelector("#toggle-guide-text").addEventListener("click",l)}))})();
